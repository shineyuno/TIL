# 쿼리 템플릿

## 검색 템플릿 소개
검색 템플릿은 일래스틱서치로 전송해야 하는 쿼리 유형을 이미 알고 있지만, 쿼리 구조가 최종이 아닌 경우에 매우 유용하다.
쿼리 템플릿을 사용해 쿼리의 기본 버전을 신속히 제공해서 애플리케이션에서 매개변수를 지정하고,
쿼리 매개변수가 변경될 때까지 일래스틱서치에 쿼리를 수정할 수 있게 한다.

예
```json
{
  "inline" : {
    "query" : {
      "bool" : {
        "must" : {
          "match" : {
            "_all" : "{{phrase}}"  
          }
        },
        "filter" : {
          "term" : {
            "available" : "{{avail}}"
          }
        }
      }
    }
  },
  "params" : {
    "phrase" : "front",
    "avail" : true
  }
}  
```
{{phrase}} 같은 섹션을 발견하면 일래스틱서치는 params 섹션으로 이동해 phrase라는 매개변수를 찾아 사용한다.
쿼리 자체에서는 {{var}} 표기법을 통해 참조를 사용한다.
쿼리가 inline 요소에 중첩되어 있으면 쿼리를 매개변수화 할수있다.
