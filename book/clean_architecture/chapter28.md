# 28장 테스트 경계
## 시스템 컴포넌트인 테스트
테스트는 태생적으로 의존성 규칙을 따른다.
테스트는 세부적이며 구체적인 것으로, 의존성은 항상 테스트 대상이 되는 코드를 향한다.
실제로 테스트는 아키텍처에서 가장 바깥쪽 원으로 생각할 수 있다.
시스템 내부의 어떤 것도 테스트에는 의존하지 않으며, 테스트는 시스템의 컴포넌트를 향해, 항상원의 안쪽으로 의존한다.

## 테스트를 고려한 설계
깨지기 쉬운 테스트는 시스템을 뻣뻣하게 만든다는 부작용을 낳을 때가 많다.
시스템에 가한 간단한 변경이 대량의 테스트 실패로 이어진다는 사실을 알게 되면, 개발자는 그러한 변경을 하지 않으려 들 것이다.
예를 들어 마켕팀에서 페이지 탐색 구조를 살짝 손봐달라고 요청했는데, 이로 인해 망가지는 테스트가 1,000개라면 두 팀 사이의 대화가 어떨지를 상상해 보자.

이 문제를 해결하려면 테스트를 고려해서 설계해야 한다.
(테스트를 고려하든 아니면 다른 이유든) 소프트웨어 설계의 첫 번째 규칙은 언제나 같다.
*변동성이 있는 것에 의존하지 말라*
GUI는 변동성이 크다. GUI로 시스템을 조작하는 테스트 스위트는 분명 깨지기 쉽다.
따라서 시스템과 테스트를 설계할 때, GUI를 사용하지 않고 업무 규칙을 테스트할 수 있게 해야 한다.

## 결론
테스트는 시스템 외부에 있지 않다.
오히려시스템의 일부다.
따라서 테스트에서 기대하는 안정성과 회귀의 이점을 얻을 수 있으려면 테스트는 잘 설계돼야만 한다.
테스트를 시스템의 일부로 설계하지 않으면 테스트는 깨지기 쉽고 유지보수하기 어려워지는 경향이 있다.
이러한 테스트는 유지보수하기가 너무 힘들기 때문에 결국 방바닥의 휴지처럼 버려지는 최후를 맡는다.
