## 1.4 제어의 역전(IoC)
IoC라는 약자로 많이 사용되는 제어의 역전 **Inversion of Control** 이라는 용어가 있다.

### 팩토리
객체의 생성 방법을 결정하고 그렇게 만들어진 오브젝트를 돌려주는 일을 하는 오브제특를 흔히 팩토리 factory 라고 부른다.
오브젝트를 생성하는 쪽과 생성된 오브젝트를 사용하는 쪽의 역할과 책일을 깔끔하게 분리하려는 목적으로 사용.
어떻게 만들지와 어떻게 사용할지는 분명 다른 관심이다.


### 설계도로서의 팩토리
```java
public class DaoFactory {
    public UserDao userDao(){
        return new UserDao(connectionMaker());
    }

    public ConnectionMaker connectionMaker(){
        return new DConnectionMaker();
    }
}
```
DaoFactory를 분리했을때 얻을수 있는 장점은 매우다양하다.
그중에서도 애플리케이션 컴포넌트 역할을 하는 오브젝트와 애플리케이션의 구조를 결정하는 오브젝트를 분리했다는데 가장의미가 있다.


### 1.4.3 제어권의 이전을 통한 제어관계 역전
제어의 역전이라는건, 간단히 프로그램의 제어 흐름구조가 뒤바뀌는 것이라고 설명할수 있다.
제어의 역전에서는 오브젝트가 자신이 사용할 오브젝트를 스스로 선택하지 않는다. 당연히 생성하지도 않는다.
또 자신도 어떻게 만들어지고 어디서 사용되는지를 알수 없다.
모든 제어 권한을 자신이 아닌 다른 대상에게 위임하기 때문이다.
모든 오브젝트는 이렇게 위임받은 제어 권한을 갖는 특별한 오브젝트에 의해 결정되고 만들어 진다.
서블릿이나 jsp,ejb처럼 **컨테이너** 안에서 동작하는 구조는 간단한 방식이긴 하지만 제어의 역전 개념이 적용되어 있다고 볼수있다.
템플릿 메소드는 제어의 역전이라는 개념을 활용해 문제를 해결하는 디자인 패턴이라고 볼수 있다.

### 프레임워크
프레임워크는 애플리케이션 코드가 프레임워크에 의해 사용된다. 보통 프레임워크 위에 개발한 클래스를 등록해두고, 프레임워크가 흐름을
주도하는중에 개발자가 만든 애플리케이션 코드를 사용하도록 만드는 방식이다.
제어의 역전에서는 프레임워크 또는 컨테이너와 같이 애플리케이션 컴포넌트의 생성과 관계설정, 사용, 생명주기 관리 등을 관장하는 존재가 필요하다.